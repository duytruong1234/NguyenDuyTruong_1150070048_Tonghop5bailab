<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/activity_diagram_add_to_cart_vertical.puml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/activity_diagram_add_to_cart_vertical.puml" />
              <option name="updatedContent" value="@startuml Activity_Diagram_Add_to_Cart_Vertical_Swimlanes&#10;!theme plain&#10;title Activity Diagram - Thêm vào Giỏ Hàng (Add to Cart)\nVertical Swimlanes&#10;&#10;|User|&#10;start&#10;:Xem chi tiết sản phẩm&#10;(View product details);&#10;&#10;:Nhấn nút &quot;Thêm vào giỏ hàng&quot;&#10;(Click &quot;Add to Cart&quot; button);&#10;&#10;|UI/Detail|&#10;:Nhận yêu cầu thêm vào giỏ hàng&#10;(Receive add to cart request);&#10;&#10;:Hiển thị loading indicator&#10;(Show loading indicator);&#10;&#10;:Gửi request đến Backend&#10;(Send request to Backend);&#10;&#10;|Backend/API|&#10;:Nhận request thêm vào giỏ hàng&#10;(Receive add to cart request);&#10;&#10;:Validate thông tin sản phẩm&#10;(Validate product information);&#10;&#10;if (Sản phẩm hợp lệ?\n(Valid product?)) then (yes)&#10;  :Kiểm tra số lượng tồn kho&#10;  (Check inventory);&#10;  &#10;  |Database|&#10;  :Truy vấn thông tin sản phẩm&#10;  (Query product information);&#10;  &#10;  :Kiểm tra số lượng tồn kho&#10;  (Check stock quantity);&#10;  &#10;  |Backend/API|&#10;  if (Còn hàng?\n(In stock?)) then (yes)&#10;    :Kiểm tra giỏ hàng hiện tại&#10;    (Check current cart);&#10;    &#10;    |Database|&#10;    :Truy vấn giỏ hàng của user&#10;    (Query user's cart);&#10;    &#10;    |Backend/API|&#10;    if (Sản phẩm đã có trong giỏ?\n(Product already in cart?)) then (yes)&#10;      :Cập nhật số lượng&#10;      (Update quantity);&#10;      &#10;      |Database|&#10;      :UPDATE cart SET quantity = quantity + 1&#10;      (Update cart quantity);&#10;    else (no)&#10;      :Thêm sản phẩm mới&#10;      (Add new product);&#10;      &#10;      |Database|&#10;      :INSERT INTO cart&#10;      (Insert into cart);&#10;    endif&#10;    &#10;    |Database|&#10;    :Commit transaction&#10;    (Commit transaction);&#10;    &#10;    :Trả về kết quả thành công&#10;    (Return success result);&#10;    &#10;    |Backend/API|&#10;    :Tạo response thành công&#10;    (Create success response);&#10;    &#10;    :Gửi response về UI&#10;    (Send response to UI);&#10;    &#10;    |UI/Detail|&#10;    :Ẩn loading indicator&#10;    (Hide loading indicator);&#10;    &#10;    :Hiển thị thông báo thành công&#10;    (Show success message);&#10;    &#10;    :Cập nhật badge giỏ hàng&#10;    (Update cart badge);&#10;    &#10;    |User|&#10;    :Thấy thông báo thành công&#10;    (See success notification);&#10;    &#10;    stop&#10;    &#10;  else (no)&#10;    |Backend/API|&#10;    :Tạo response &quot;Hết hàng&quot;&#10;    (Create &quot;Out of stock&quot; response);&#10;    &#10;    :Gửi response về UI&#10;    (Send response to UI);&#10;    &#10;    |UI/Detail|&#10;    :Ẩn loading indicator&#10;    (Hide loading indicator);&#10;    &#10;    :Hiển thị thông báo &quot;Hết hàng&quot;&#10;    (Show &quot;Out of stock&quot; message);&#10;    &#10;    |User|&#10;    :Thấy thông báo hết hàng&#10;    (See out of stock notification);&#10;    &#10;    stop&#10;  endif&#10;  &#10;else (no)&#10;  |Backend/API|&#10;  :Tạo response lỗi&#10;  (Create error response);&#10;  &#10;  :Gửi response về UI&#10;  (Send response to UI);&#10;  &#10;  |UI/Detail|&#10;  :Ẩn loading indicator&#10;  (Hide loading indicator);&#10;  &#10;  :Hiển thị thông báo lỗi&#10;  (Show error message);&#10;  &#10;  |User|&#10;  :Thấy thông báo lỗi&#10;  (See error notification);&#10;  &#10;  stop&#10;endif&#10;&#10;@enduml&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>